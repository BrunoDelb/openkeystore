for (var times = 0; times < 1000; times++)
{
	for (var i = 0; i < 10; i++)
	{
		var iarr = new Uint8Array(i);
		for (var j = 0; j < i; j++)
		{
			iarr[j] =  Math.floor(Math.random()*256);
		}
		for (var q = 0; q < iarr.length; q++)
		{
			console.debug (iarr[q]);
		}
		var b64 = org.webpki.util.Base64URL.encode (iarr);
		console.debug ("Base64URL=" + b64);
		var arr = org.webpki.util.Base64URL.decode (b64);
		if (arr.length != iarr.length) throw "Length error";
		for (var q = 0; q < arr.length; q++)
		{
			if (arr[q] != iarr[q]) throw "Content error";
		}
	}
}
var should_fail = true;
try
  {
	var h = org.webpki.util.Base64URL.decode ("a");
	should_fail = false;
  }
catch (err)
  {
  }
if (!should_fail)
    {
		throw "Bad";
	}
should_fail = true;
try
  {
	var h = org.webpki.util.Base64URL.decode ("i+");
	should_fail = false;
  }
catch (err)
  {
  }
if (!should_fail)
    {
		throw "Bad";
	}
